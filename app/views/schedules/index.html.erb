<h1>予定一覧</h1>

<div class="container mt-4">
  <div class="text-right">
    <%= link_to '新規追加', new_schedule_path, class: 'btn btn-primary mb-3' %>
  </div>
</div>

<div class="card mb-4">
  <div class="card-body">
    <table class="table table-striped">
      <tr>
        <th>ID</th>
        <th>タイトル</th>
        <th>開始日</th>
        <th>終了日</th>
        <th>終日</th>
        <th>更新日時</th>
        <th colspan="3"></th>
      </tr>
      <% @schedules.each do |schedule| %>
        <tr>
          <td><%= schedule.id %></td>
          <td><%= schedule.title %></td>
          <td><%= schedule.start_date.strftime('%Y/%m/%d') %></td>
          <td><%= schedule.end_date.strftime('%Y/%m/%d') %></td>
          <td><%= schedule.all_day ? '○' : '' %></td>
          <td><%= schedule.updated_at.in_time_zone('Tokyo').strftime('%Y/%m/%d %H:%M') %></td>
          <td><%= link_to '詳細', schedule_path(schedule), class: 'btn btn-secondary btn-sm' %></td>
          <td><%= link_to '編集', edit_schedule_path(schedule), class: 'btn btn-info btn-sm' %></td>
          <td>
            <%= button_to '削除', schedule_path(schedule), method: :delete, onclick: "return confirm('予定を削除しますか')", class: 'btn btn-danger btn-sm' %>
          </td>
        </tr>
      <% end %>
    </table>
  </div>
</div>

<div class="card mb-4">
  <div class="card-body d-flex justify-content-between">
    <p class="mb-3">予定の合計数: <%= @schedules.count %></p>
    <p>本日の日付: <%= Time.now.in_time_zone('Tokyo').strftime('%Y/%m/%d') %></p>
  </div>
</div>






